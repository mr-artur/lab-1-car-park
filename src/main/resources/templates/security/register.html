<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
    <head th:replace="fragments::head(title=#{title.register})"></head>
    <body class="bg-light">
        <th:block th:replace="fragments::languages"/>
        <div class="container my-5">
            <div class="alert alert-danger mb-4" th:text="#{register.duplicate}" th:if="${param.duplicate}"></div>
            <form action="#" th:action="@{/register}" th:object="${user}" method="post"
                  class="form form-extended d-flex flex-column align-items-center p-4 shadow"
            >
                <h2 th:text="#{register.label}" class="mb-4"></h2>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.firstName})"/>
                        <input type="text"
                               th:field="*{firstName}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.firstName}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('firstName')}"
                         th:text="#{validation.user.name}">
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.firstNameNative})"/>
                        <input type="text"
                               th:field="*{firstNameNative}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.firstNameNative}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('firstNameNative')}"
                         th:text="#{validation.user.nameNative}">
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.lastName})"/>
                        <input type="text"
                               th:field="*{lastName}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.lastName}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('lastName')}"
                         th:text="#{validation.user.name}">
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.lastNameNative})"/>
                        <input type="text"
                               th:field="*{lastNameNative}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.lastNameNative}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('lastNameNative')}"
                         th:text="#{validation.user.nameNative}">
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.role})"/>
                        <select th:field="*{role}"
                                class="input custom-select"
                                required
                        >
                            <option th:each="role : ${roles}"
                                    th:value="${role}"
                                    th:text="#{${role.getMessageKey()}}">
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.username})"/>
                        <input type="text"
                               th:field="*{username}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.username}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('username')}"
                         th:text="#{validation.user.username}">
                    </div>
                </div>
                <div class="form__element mb-3">
                    <div class="input-group">
                        <th:block th:replace="fragments::input-label(text=#{register.label.password})"/>
                        <input type="password"
                               th:field="*{password}"
                               class="input form-control shadow-sm"
                               th:placeholder="#{register.placeholder.password}"
                               required
                               th:errorclass="input-error"
                        />
                    </div>
                    <div class="alert alert-danger validation-error mt-2"
                         th:if="${#fields.hasErrors('password')}"
                         th:text="#{validation.user.password}">
                    </div>
                </div>
                <button th:text="#{register.button.submit}" type="submit"
                        class="btn btn-success btn-form-register mb-4 mt-3"></button>
                <a href="/login">
                    <button th:text="#{link.login}" type="button" class="btn btn-info btn-form-register"></button>
                </a>
            </form>
        </div>
    </body>
</html>
